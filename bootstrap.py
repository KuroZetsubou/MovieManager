from lib.mongo.collection import MOVIE, SCREENTIME
from lib.struct.__base import db
from lib.struct.movie import Movie
from lib.struct.screentime import ScreenTime

MOVIES = ["Super Mario Bros.", " Risvegli", "Ragazze vincenti", "Bronx"]
movies_list = []

TIME = """1694917910 (2023-09-17 02:31:50)
1696883359 (2023-10-09 20:29:19)
1688766301 (2023-07-07 21:45:01)
1697939427 (2023-10-22 01:50:27)
1699637436 (2023-11-10 17:30:36)
1673378247 (2023-01-10 19:17:27)
1702525931 (2023-12-14 03:52:11)
1687571639 (2023-06-24 01:53:59)
1698107942 (2023-10-24 00:39:02)
1689204789 (2023-07-12 23:33:09)
1684581867 (2023-05-20 11:24:27)
1684447727 (2023-05-18 22:08:47)
1676598305 (2023-02-17 01:45:05)
1676757025 (2023-02-18 21:50:25)
1676196867 (2023-02-12 10:14:27)
1698829741 (2023-11-01 09:09:01)
1688005482 (2023-06-29 02:24:42)
1675153186 (2023-01-31 08:19:46)
1694727126 (2023-09-14 21:32:06)
1691809373 (2023-08-12 03:02:53)
1690582539 (2023-07-28 22:15:39)
1680871376 (2023-04-07 12:42:56)
1677917384 (2023-03-04 08:09:44)
1682447690 (2023-04-25 18:34:50)
1691199592 (2023-08-05 01:39:52)
1678318462 (2023-03-08 23:34:22)
1681535595 (2023-04-15 05:13:15)
1700311627 (2023-11-18 12:47:07)
1686383209 (2023-06-10 07:46:49)
1696540501 (2023-10-05 21:15:01)
1686028946 (2023-06-06 05:22:26)
1684349241 (2023-05-17 18:47:21)
1700050044 (2023-11-15 12:07:24)
1685950668 (2023-06-05 07:37:48)
1677877460 (2023-03-03 21:04:20)
1691352237 (2023-08-06 20:03:57)
1700598502 (2023-11-21 20:28:22)
1687600543 (2023-06-24 09:55:43)
1673364645 (2023-01-10 15:30:45)
1702293245 (2023-12-11 11:14:05)
1694605685 (2023-09-13 11:48:05)
1693908004 (2023-09-05 10:00:04)
1682780812 (2023-04-29 15:06:52)
1679774899 (2023-03-25 20:08:19)
1695378859 (2023-09-22 10:34:19)
1696049551 (2023-09-30 04:52:31)
1688842968 (2023-07-08 19:02:48)
1689153817 (2023-07-12 09:23:37)
1703325135 (2023-12-23 09:52:15)
1685968650 (2023-06-05 12:37:30)
"""

db.drop(MOVIE)
db.drop(SCREENTIME)

for movie in MOVIES:
    m = Movie()
    m.movieName = movie
    m.omdbName = movie
    m.addOnDb()
    movies_list.append(m)

i = 0

for time in TIME.split("\n"):
    t = time.split(" ")[0]
    print(t)
    try:
        timestamp = int(t)
        m = Movie().getRandom()
        print(m.id)
        s = ScreenTime()
        s.screenTime = timestamp
        s.movie = m
        s.capacity = 300
        s.addOnDb()
    except ValueError:
        pass